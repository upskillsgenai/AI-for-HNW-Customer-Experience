<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HNW Client Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .dashboard-container {
            background-color: #ffffff;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <div class="dashboard-container w-full max-w-6xl rounded-3xl shadow-2xl overflow-hidden p-8 md:p-12">
        
        <!-- Header Section -->
        <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-10 pb-4 border-b border-gray-200">
            <div>
                <h1 class="text-4xl font-extrabold text-gray-900">John Smith's Dashboard</h1>
                <p class="text-lg text-gray-500 font-medium mt-1">Your real-time financial overview & insights</p>
            </div>
            <div class="mt-4 md:mt-0">
                <span class="inline-block bg-blue-100 text-blue-800 text-sm font-semibold px-4 py-2 rounded-full shadow-md">VIP Client Status</span>
            </div>
        </div>

        <!-- Main Dashboard Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <!-- Portfolio Performance Chart with AI Prediction -->
            <div class="lg:col-span-2 bg-gray-50 p-6 rounded-2xl shadow-md border border-gray-200">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-gray-800">Portfolio Performance</h2>
                    <span id="portfolio-value" class="text-3xl font-bold text-green-600">$12,456,789.00</span>
                </div>
                <div class="relative h-72">
                    <canvas id="portfolioChart"></canvas>
                </div>
            </div>

            <!-- Personalized Insights -->
            <div class="bg-gray-50 p-6 rounded-2xl shadow-md border border-gray-200 flex flex-col justify-between">
                <div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">Personalized Insights</h2>
                    <div id="insights-content" class="text-gray-600 space-y-4">
                        <p class="font-medium leading-relaxed">Based on your recent market activity, we have identified a high-growth opportunity in the renewable energy sector.</p>
                        <p class="text-sm">Your cash position is currently optimized for a near-term investment. Consider rebalancing a portion of your portfolio to maximize returns.</p>
                    </div>
                </div>
                <button id="refresh-insights-btn" class="mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-full transition-all duration-300 transform hover:scale-105 active:scale-95">
                    Refresh Insights
                </button>
            </div>
        </div>

        <!-- Product Nudges & Key Metrics -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8">
            
            <!-- Product Nudge 1 -->
            <div class="bg-white p-6 rounded-2xl shadow-md border border-gray-200 flex flex-col justify-between">
                <div>
                    <div class="flex items-center text-blue-600 mb-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V6m0 2c-.519 0-.99.145-1.42.36M12 20v-2m0 2c-.519 0-.99-.145-1.42-.36m-4.243-4.243a.999.999 0 010 1.414.999.999 0 01-1.414 0l-.707-.707a.999.999 0 010-1.414.999.999 0 011.414 0l.707.707zm-4.243-4.243a.999.999 0 011.414 0l.707.707a.999.999 0 010 1.414.999.999 0 01-1.414 0l-.707-.707a.999.999 0 010-1.414zM12 6.5a.5.5 0 100-1 .5.5 0 000 1z" />
                        </svg>
                        <span class="text-lg font-bold">Investment Opportunity</span>
                    </div>
                    <p class="text-gray-700">Explore our curated list of sustainable technology funds. These are aligned with your long-term growth and ESG goals.</p>
                </div>
                <button class="mt-4 w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-full transition-colors duration-300">
                    Learn More
                </button>
            </div>
            
            <!-- Product Nudge 2 -->
            <div class="bg-white p-6 rounded-2xl shadow-md border border-gray-200 flex flex-col justify-between">
                <div>
                    <div class="flex items-center text-blue-600 mb-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17 9v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9a2 2 0 012-2h6a2 2 0 012 2z" />
                        </svg>
                        <span class="text-lg font-bold">Lending Services</span>
                    </div>
                    <p class="text-gray-700">Consider a portfolio-backed loan to fund your new real estate acquisition without liquidating your assets.</p>
                </div>
                <button class="mt-4 w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-full transition-colors duration-300">
                    Get an Offer
                </button>
            </div>
            
            <!-- Key Metrics -->
            <div class="bg-white p-6 rounded-2xl shadow-md border border-gray-200">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Key Metrics</h2>
                <div class="space-y-4">
                    <div class="flex justify-between items-center pb-2 border-b border-gray-200">
                        <span class="text-gray-600 font-medium">Monthly Return</span>
                        <span class="text-green-600 font-bold">+2.8%</span>
                    </div>
                    <div class="flex justify-between items-center pb-2 border-b border-gray-200">
                        <span class="text-gray-600 font-medium">Risk Score</span>
                        <span class="text-yellow-600 font-bold">Medium-High</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-600 font-medium">Liquidity</span>
                        <span class="text-gray-900 font-bold">High</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- NEW AI-DRIVEN VISUALS -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8">

            <!-- Asset Allocation Pie Chart -->
            <div class="bg-white p-6 rounded-2xl shadow-md border border-gray-200 lg:col-span-1">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Asset Allocation</h2>
                <div class="relative h-64">
                    <canvas id="allocationChart"></canvas>
                </div>
            </div>

            <!-- Risk Score Gauge -->
            <div class="bg-white p-6 rounded-2xl shadow-md border border-gray-200 lg:col-span-1">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">AI Risk Assessment</h2>
                <div class="relative h-64 flex items-center justify-center">
                    <canvas id="riskChart"></canvas>
                    <div id="risk-label" class="absolute text-3xl font-bold text-gray-800 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">75</div>
                </div>
            </div>
            
            <!-- Cash Flow Bar Chart -->
            <div class="bg-white p-6 rounded-2xl shadow-md border border-gray-200 lg:col-span-1">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Cash Flow (6 Months)</h2>
                <div class="relative h-64">
                    <canvas id="cashFlowChart"></canvas>
                </div>
            </div>

            <!-- AI Predicted Market Trend -->
            <div class="lg:col-span-3 bg-gray-50 p-6 rounded-2xl shadow-md border border-gray-200">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">AI-Predicted Market Trend (Next Year)</h2>
                <div class="relative h-72">
                    <canvas id="aiTrendChart"></canvas>
                </div>
            </div>

        </div>

    </div>

    <script>
        const portfolioChartCtx = document.getElementById('portfolioChart').getContext('2d');
        const portfolioValueEl = document.getElementById('portfolio-value');
        const refreshInsightsBtn = document.getElementById('refresh-insights-btn');
        const insightsContentEl = document.getElementById('insights-content');
        const allocationChartCtx = document.getElementById('allocationChart').getContext('2d');
        const riskChartCtx = document.getElementById('riskChart').getContext('2d');
        const cashFlowChartCtx = document.getElementById('cashFlowChart').getContext('2d');
        const aiTrendChartCtx = document.getElementById('aiTrendChart').getContext('2d');
        const riskLabel = document.getElementById('risk-label');

        // Initial data for the charts
        const initialData = Array.from({ length: 10 }, (_, i) => 12000000 + Math.random() * 500000 - 250000);
        let data = [...initialData];
        const labels = Array.from({ length: 10 }, (_, i) => i + 1);

        // Simulated AI prediction data
        const predictedData = Array.from({ length: 5 }, (_, i) => {
            const lastValue = data[data.length - 1] + i * 150000;
            return lastValue + (Math.random() - 0.5) * 50000;
        });

        // Main Portfolio Chart
        const portfolioChart = new Chart(portfolioChartCtx, {
            type: 'line',
            data: {
                labels: [...labels, ...Array.from({length: 5}, (_, i) => i + 11)],
                datasets: [{
                    label: 'Portfolio Value',
                    data: data,
                    borderColor: 'rgb(34, 197, 94)',
                    backgroundColor: 'rgba(34, 197, 94, 0.2)',
                    fill: 'start',
                    tension: 0.4,
                    pointRadius: 0,
                },
                {
                    label: 'AI Forecast',
                    data: [...Array(10).fill(null), ...predictedData],
                    borderColor: 'rgb(59, 130, 246)',
                    borderDash: [5, 5],
                    pointRadius: 0,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        callbacks: {
                            label: function(context) {
                                return `$${context.parsed.y.toLocaleString('en-US', {minimumFractionDigits: 2})}`;
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        grid: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: 'Last 10 Days & Next 5 Days (AI Forecast)'
                        }
                    },
                    y: {
                        grid: {
                            color: '#e5e7eb'
                        },
                        title: {
                            display: true,
                            text: 'Value ($)'
                        },
                        ticks: {
                            callback: function(value) {
                                return '$' + (value / 1000000).toFixed(1) + 'M';
                            }
                        }
                    }
                }
            }
        });

        // Function to update the chart with new, simulated data
        function updateChart() {
            const lastValue = data[data.length - 1];
            const newValue = lastValue + (Math.random() - 0.5) * (lastValue * 0.005);
            data.push(newValue);
            data.shift();
            labels.push(labels[labels.length - 1] + 1);
            labels.shift();

            // Update portfolio data
            portfolioChart.data.datasets[0].data = data;
            portfolioChart.data.labels = [...labels, ...Array.from({length: 5}, (_, i) => i + 11)];
            
            // Re-generate AI prediction data for the next 5 days
            const newPredictedData = Array.from({ length: 5 }, (_, i) => {
                const lastVal = data[data.length - 1] + i * 150000;
                return lastVal + (Math.random() - 0.5) * 50000;
            });
            portfolioChart.data.datasets[1].data = [...Array(10).fill(null), ...newPredictedData];
            
            portfolioChart.update();

            // Update the portfolio value display
            portfolioValueEl.textContent = `$${newValue.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
        }

        // Update the chart every 3 seconds to simulate real-time data
        setInterval(updateChart, 3000);

        const insightOptions = [
            `Based on your recent market activity, we have identified a high-growth opportunity in the renewable energy sector.`,
            `Your current asset allocation is slightly overweight in tech. A small rebalance into consumer staples could reduce volatility.`,
            `Your cash position is currently optimized for a near-term investment. Consider a high-yield savings product for short-term gains.`
        ];

        // Function to refresh the insights
        refreshInsightsBtn.addEventListener('click', () => {
            const randomIndex = Math.floor(Math.random() * insightOptions.length);
            insightsContentEl.innerHTML = `<p class="font-medium leading-relaxed">${insightOptions[randomIndex]}</p>`;
        });

        // --- NEW CHARTS ---

        // Asset Allocation Chart
        const allocationChart = new Chart(allocationChartCtx, {
            type: 'doughnut',
            data: {
                labels: ['Stocks', 'Bonds', 'Real Estate', 'Cash'],
                datasets: [{
                    data: [55, 25, 10, 10],
                    backgroundColor: ['#2563EB', '#FBBF24', '#EF4444', '#6B7280'],
                    borderColor: '#ffffff',
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { position: 'bottom' } }
            }
        });

        // Risk Score Gauge Chart
        const riskData = {
            labels: ['Low', 'Medium', 'High'],
            datasets: [{
                data: [25, 50, 25],
                backgroundColor: ['#22C55E', '#FACC15', '#EF4444'],
                borderWidth: 0,
                circumference: 180,
                rotation: -90,
                cutout: '80%',
                hoverOffset: 0
            }]
        };

        const riskChart = new Chart(riskChartCtx, {
            type: 'doughnut',
            data: riskData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: { enabled: false }
                }
            }
        });
        
        // Cash Flow Bar Chart
        const cashFlowChart = new Chart(cashFlowChartCtx, {
            type: 'bar',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'June'],
                datasets: [{
                    label: 'Net Cash Flow',
                    data: [15000, 25000, -10000, 30000, 5000, 45000],
                    backgroundColor: (context) => {
                        const value = context.dataset.data[context.dataIndex];
                        return value > 0 ? '#10B981' : '#EF4444';
                    },
                    borderRadius: 10
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: {
                    x: { grid: { display: false } },
                    y: { grid: { color: '#e5e7eb' } }
                }
            }
        });
        
        // AI Predicted Market Trend Chart
        const aiTrendChart = new Chart(aiTrendChartCtx, {
            type: 'line',
            data: {
                labels: ['Q1', 'Q2', 'Q3', 'Q4', 'Q1-AI', 'Q2-AI', 'Q3-AI', 'Q4-AI'],
                datasets: [{
                    label: 'Historical',
                    data: [100, 105, 115, 110],
                    borderColor: '#2563EB',
                    backgroundColor: 'rgba(59, 130, 246, 0.2)',
                    fill: false,
                    tension: 0.3,
                    pointRadius: 3
                }, {
                    label: 'AI Forecast',
                    data: [null, null, null, 110, 118, 125, 130, 135],
                    borderColor: '#9CA3AF',
                    borderDash: [5, 5],
                    pointRadius: 3,
                    tension: 0.3
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { position: 'top' } },
                scales: {
                    x: {
                        grid: { display: false },
                        title: { display: true, text: 'Time Period' }
                    },
                    y: {
                        grid: { color: '#e5e7eb' },
                        title: { display: true, text: 'Index Value' }
                    }
                }
            }
        });
    </script>

</body>
</html>
